(()=>{"use strict";var e,t=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelector(e)},n="widget",a="WeatherApp",i={longitude:".js-weather-app-longitude",latitude:".js-weather-app-latitude",tempInfoCelsius:".js-weather-app-celsius",tempInfoFahrenheit:".js-weather-app-fahrenheit",weatherImage:".js-weather-app-image",weatherDescription:".js-weather-app-description",cityName:".js-weather-app-city",switchBtnFahrenheit:".js-weather-app-button-fahrenheit",switchBtnCelsius:".js-weather-app-button-celsius",tempInfoMinTemp:".js-weather-app-min",tempInfoMaxTemp:".js-weather-app-max",windSpeed:".js-weather-app-windSpeed",pressure:".js-weather-app-pressure",humidity:".js-weather-app-humidity"},s={active:"active"};e=function(e){var n={state:{},elements:{},data:{}},a=function(){fetch("https://ipapi.co/json/").then((function(e){return e.json()})).then((function(e){n.data.latData=e.latitude,n.data.lonData=e.longitude,n.elements.latitudeEl.append("Lat: ".concat(n.data.latData)),n.elements.longitudeEl.append("Lon: ".concat(n.data.lonData)),m()})).catch((function(){}))},m=function(){var e,t;fetch((e=n.data.latData,t=n.data.lonData,"https://api.openweathermap.org/data/2.5/weather?lat=".concat(e,"&lon=").concat(t,"&appid=059dcee9c15c93a942eb1f38b72876be"))).then((function(e){return e.json()})).then((function(e){var t=e.main.temp,a=e.weather[0].icon,i="https://openweathermap.org/img/w/".concat(a,".png"),s=e.weather[0].description,m="".concat(s," image"),p=e.name;n.elements.weatherImage.setAttribute("src",i),n.elements.weatherImage.setAttribute("alt",m),n.elements.weatherDescription.append(s),n.elements.cityName.append(p),n.elements.windSpeed.append("Winds: ".concat(e.wind.speed," km/h")),n.elements.pressure.append("Pressure: ".concat(e.main.pressure," º")),n.elements.humidity.append("Humidity: ".concat(e.main.humidity," %")),n.data.minFahrenheit=Math.floor(9*e.main.temp_min/5-459.67),n.data.maxFahrenheit=Math.floor(9*e.main.temp_max/5-459.67),n.data.celsius=Math.floor(t-273.15),n.data.minCelsius=Math.floor(e.main.temp_min-273.15),n.data.maxCelsius=Math.floor(e.main.temp_max-273.15),n.data.fahrenheit=Math.floor(9*t/5-459.67),n.elements.tempInfoCelsius.append("".concat(n.data.celsius," ºC")),n.elements.tempInfoMinTemp.append("Min: ".concat(n.data.minCelsius," ºC")),n.elements.tempInfoMaxTemp.append("Max: ".concat(n.data.maxCelsius," ºC"))})).catch((function(){}))},p=function(){n.elements.switchBtnCelsius.addEventListener("click",(function(){n.elements.switchBtnFahrenheit.classList.remove(s.active),n.elements.switchBtnCelsius.classList.add(s.active),n.elements.tempInfoFahrenheit.innerHTML="",n.elements.tempInfoCelsius.innerHTML="",n.elements.tempInfoMinTemp.innerHTML="",n.elements.tempInfoMaxTemp.innerHTML="",n.elements.tempInfoCelsius.append("".concat(n.data.celsius," ºC")),n.elements.tempInfoMinTemp.append("".concat(n.data.minCelsius," ºC")),n.elements.tempInfoMaxTemp.append("".concat(n.data.maxCelsius," ºC"))}),!1),n.elements.switchBtnFahrenheit.addEventListener("click",(function(){n.elements.switchBtnFahrenheit.classList.add(s.active),n.elements.switchBtnCelsius.classList.remove(s.active),n.elements.tempInfoCelsius.innerHTML="",n.elements.tempInfoFahrenheit.innerHTML="",n.elements.tempInfoMinTemp.innerHTML="",n.elements.tempInfoMaxTemp.innerHTML="",n.elements.tempInfoFahrenheit.append("".concat(n.data.fahrenheit," ºF")),n.elements.tempInfoMinTemp.append("".concat(n.data.minFahrenheit," ºF")),n.elements.tempInfoMaxTemp.append("".concat(n.data.maxFahrenheit," ºF"))}),!1)};n.elements.latitudeEl=t(i.latitude,e),n.elements.longitudeEl=t(i.longitude,e),n.elements.tempInfoCelsius=t(i.tempInfoCelsius,e),n.elements.tempInfoFahrenheit=t(i.tempInfoFahrenheit,e),n.elements.weatherImage=t(i.weatherImage,e),n.elements.weatherDescription=t(i.weatherDescription,e),n.elements.cityName=t(i.cityName,e),n.elements.switchBtnFahrenheit=t(i.switchBtnFahrenheit,e),n.elements.switchBtnCelsius=t(i.switchBtnCelsius,e),n.elements.tempInfoMinTemp=t(i.tempInfoMinTemp,e),n.elements.tempInfoMaxTemp=t(i.tempInfoMaxTemp,e),n.elements.windSpeed=t(i.windSpeed,e),n.elements.pressure=t(i.pressure,e),n.elements.humidity=t(i.humidity,e),a(),p()},document.querySelectorAll("[data-js-".concat(n,"=").concat(a,"]")).forEach((function(t){return e(t)}))})();