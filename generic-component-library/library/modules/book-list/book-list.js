(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function o(t){var o=function(t,o){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,o||"default");if("object"!=e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(t)}(t,"string");return"symbol"==e(o)?o:o+""}var n=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.init()},(o=[{key:"setupDomReferences",value:function(){this.list=document.getElementById("book-list"),this.container=document.querySelector(".js-container"),this.form=document.querySelector("#book-form"),this.title=document.getElementById("title"),this.author=document.getElementById("author"),this.isbn=document.getElementById("isbn")}},{key:"addBookToList",value:function(e){var t=document.createElement("tr");t.className="row",t.innerHTML="\n      <td class='col'>".concat(e.title,"</td>\n      <td class='col'>").concat(e.author,"</td>\n      <td class='col'>").concat(e.isbn,'</td>\n      <td class=\'col\'>\n      <a href="#" class="delete">X</a></td>\n    '),this.list.appendChild(t)}},{key:"showAlert",value:function(e,t){var o=document.createElement("div");o.className="alert ".concat(t," col"),o.appendChild(document.createTextNode(e)),this.container.insertBefore(o,this.form),setTimeout((function(){document.querySelector(".alert").remove()}),3e4)}},{key:"deleteBook",value:function(e){e.parentElement.parentElement.remove()}},{key:"clearFields",value:function(){this.title.value="",this.author.value="",this.isbn.value=""}},{key:"init",value:function(){this.setupDomReferences()}}])&&t(e.prototype,o),n&&t(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,o,n}();function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function l(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return t=e,r=[{key:"getBooks",value:function(){return null===localStorage.getItem("books")?[]:JSON.parse(localStorage.getItem("books"))}},{key:"displayBooks",value:function(){e.getBooks().forEach((function(e){(new n).addBookToList(e)}))}},{key:"addBook",value:function(t){var o=e.getBooks();o.push(t),localStorage.setItem("books",JSON.stringify(o))}},{key:"removeBook",value:function(t){var o=e.getBooks();o.forEach((function(e,n){e.isbn===t&&o.splice(n,1)})),localStorage.setItem("books",JSON.stringify(o))}}],(o=null)&&i(t.prototype,o),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,o,r}();function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function s(e,t,o){return t&&c(e.prototype,t),o&&c(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}var m=s((function e(t,o,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.title=t,this.author=o,this.isbn=n}));const y=function(){var e={state:{},elements:{}},t=function(){e.elements.bookForm=document.getElementById("book-form"),e.elements.bookList=document.getElementById("book-list"),e.elements.title=document.getElementById("title"),e.elements.author=document.getElementById("author"),e.elements.isbn=document.getElementById("isbn")},o=function(){"loading"!==document.readyState?a.displayBooks():document.addEventListener("DOMContentLoaded",(function(){})),e.elements.bookForm.addEventListener("submit",(function(t){t.preventDefault();var o=e.elements.title.value,r=e.elements.author.value,i=e.elements.isbn.value,l=new m(o,r,i),u=new n;""===o||""===r||""===i?u.showAlert("Please fill in all fields","error"):(u.addBookToList(l),a.addBook(l),u.showAlert("Book Added!","success"),u.clearFields())})),e.elements.bookList.addEventListener("click",(function(e){e.preventDefault();var t=new n,o=e.target;"delete"===o.className&&(a.removeBook(o.parentElement.previousElementSibling.textContent),t.deleteBook(o)),t.showAlert("Book Removed!","success")}))};console.log("BookList module initializing..."),t(),o(),console.log("BookList module initialized")};document.querySelectorAll("[data-js-widget=BookList]").forEach((function(e){y(e)}))})();