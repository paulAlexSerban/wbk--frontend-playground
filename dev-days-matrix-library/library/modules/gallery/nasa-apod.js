/*! For license information please see nasa-apod.js.LICENSE.txt */
(()=>{function t(){var n,r,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.toStringTag||"@@toStringTag";function i(t,o,a,c){var i=o&&o.prototype instanceof u?o:u,d=Object.create(i.prototype);return e(d,"_invoke",function(t,e,o){var a,c,i,u=0,d=o||[],l=!1,v={p:0,n:0,v:n,a:f,f:f.bind(n,4),d:function(t,e){return a=t,c=0,i=n,v.n=e,s}};function f(t,e){for(c=t,i=e,r=0;!l&&u&&!o&&r<d.length;r++){var o,a=d[r],f=v.p,p=a[2];t>3?(o=p===e)&&(i=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=n):a[0]<=f&&((o=t<2&&f<a[1])?(c=0,v.v=e,v.n=a[1]):f<p&&(o=t<3||a[0]>e||e>p)&&(a[4]=t,a[5]=e,v.n=p,c=0))}if(o||t>1)return s;throw l=!0,e}return function(o,d,p){if(u>1)throw TypeError("Generator is already running");for(l&&1===d&&f(d,p),c=d,i=p;(r=c<2?n:i)||!l;){a||(c?c<3?(c>1&&(v.n=-1),f(c,i)):v.n=i:v.v=i);try{if(u=2,a){if(c||(o="next"),r=a[o]){if(!(r=r.call(a,i)))throw TypeError("iterator result is not an object");if(!r.done)return r;i=r.value,c<2&&(c=0)}else 1===c&&(r=a.return)&&r.call(a),c<2&&(i=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=n}else if((r=(l=v.n<0)?i:t.call(e,v))!==s)break}catch(t){a=n,c=1,i=t}finally{u=1}}return{value:r,done:l}}}(t,a,c),!0),d}var s={};function u(){}function d(){}function l(){}r=Object.getPrototypeOf;var v=[][a]?r(r([][a]())):(e(r={},a,(function(){return this})),r),f=l.prototype=u.prototype=Object.create(v);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,e(t,c,"GeneratorFunction")),t.prototype=Object.create(f),t}return d.prototype=l,e(f,"constructor",l),e(l,"constructor",d),d.displayName="GeneratorFunction",e(l,c,"GeneratorFunction"),e(f),e(f,c,"Generator"),e(f,a,(function(){return this})),e(f,"toString",(function(){return"[object Generator]"})),(t=function(){return{w:i,m:p}})()}function e(t,n,r,o){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}e=function(t,n,r,o){if(n)a?a(t,n,{value:r,enumerable:!o,configurable:!o,writable:!o}):t[n]=r;else{var c=function(n,r){e(t,n,(function(t){return this._invoke(n,r,t)}))};c("next",0),c("throw",1),c("return",2)}},e(t,n,r,o)}function n(t,e,n,r,o,a,c){try{var i=t[a](c),s=i.value}catch(t){return void n(t)}i.done?e(s):Promise.resolve(s).then(r,o)}var r=document.getElementById("resultsNav"),o=document.getElementById("favoritesNav"),a=document.querySelector(".images-container"),c=document.querySelector(".save-confirmed"),i=document.querySelector(".loader"),s=document.getElementById("toggleFavorites"),u=document.getElementById("loadMoreNasaPics"),d="https://api.nasa.gov/planetary/apod?api_key=".concat("DEMO_KEY","&count=").concat(10),l=[],v={};function f(t){("results"===t?l:Object.values(v)).forEach((function(e){var n=document.createElement("div");n.classList.add("card");var r=document.createElement("a");r.href=e.hdurl,r.title="View Full Image",r.target="_blank";var o=document.createElement("img");o.src=e.url,o.alt="NASA Picture of the Day",o.loading="lazy",o.classList.add("card-img-top");var i=document.createElement("div");i.classList.add("card-body");var s=document.createElement("h5");s.classList.add("card-title"),s.textContent=e.title;var u=document.createElement("p");u.classList.add("clickable"),"results"===t?(u.textContent="Add To Favorites",u.addEventListener("click",(function(){return t=e.url,void l.forEach((function(e){e.url.includes(t)&&!v[t]&&(v[t]=e,c.hidden=!1,setTimeout((function(){c.hidden=!0}),2e3),localStorage.setItem("nasaFavorites",JSON.stringify(v)))}));var t}))):(u.textContent="Remove Favorite",u.addEventListener("click",(function(){return t=e.url,void(v[t]&&(delete v[t],localStorage.setItem("nasaFavorites",JSON.stringify(v)),p("favorites")));var t})));var d=document.createElement("p");d.textContent=e.explanation;var f=document.createElement("small");f.classList.add("text-muted");var m=document.createElement("strong");m.textContent=e.date;var y=void 0===e.copyright?"":e.copyright,h=document.createElement("span");h.textContent=" ".concat(y),f.append(m,h),i.append(s,u,d,f),r.appendChild(o),n.append(r,i),a.appendChild(n)}))}function p(t){localStorage.getItem("nasaFavorites")&&(v=JSON.parse(localStorage.getItem("nasaFavorites"))),a.textContent="",f(t),function(t){window.scrollTo({top:0,behavior:"instant"}),i.classList.add("hidden"),"results"===t?(r.classList.remove("hidden"),o.classList.add("hidden")):(r.classList.add("hidden"),o.classList.remove("hidden"))}(t)}function m(){return y.apply(this,arguments)}function y(){var e;return e=t().m((function e(){var n;return t().w((function(t){for(;;)switch(t.n){case 0:return i.classList.remove("hidden"),t.p=1,t.n=2,fetch(d);case 2:return n=t.v,t.n=3,n.json();case 3:l=t.v,p("results"),t.n=5;break;case 4:t.p=4,t.v;case 5:return t.a(2)}}),e,null,[[1,4]])})),y=function(){var t=this,r=arguments;return new Promise((function(o,a){var c=e.apply(t,r);function i(t){n(c,o,a,i,s,"next",t)}function s(t){n(c,o,a,i,s,"throw",t)}i(void 0)}))},y.apply(this,arguments)}s.addEventListener("click",(function(){p("favorites")})),u.addEventListener("click",m),u.addEventListener("click",m),m()})();