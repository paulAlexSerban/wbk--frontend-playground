(()=>{var n=document.getElementById("search"),t=document.getElementById("submit"),e=document.getElementById("random"),a=document.getElementById("meals"),c=document.getElementById("result-heading"),r=document.getElementById("single-meal");function s(n){for(var t=[],e=1;e<=20&&n["strIngredient".concat(e)];e++)t.push("".concat(n["strIngredient".concat(e)]," - ").concat(n["strMeasure".concat(e)]));r.innerHTML='\n    <div class="single-meal">\n      <h1>'.concat(n.strMeal,'</h1>\n      <img src="').concat(n.strMealThumb,'" alt="').concat(n.strMeal,'" />\n      <div class="single-meal-info">\n        ').concat(n.strCategory?"<p>".concat(n.strCategory,"</p>"):"","\n        ").concat(n.strArea?"<p>".concat(n.strArea,"</p>"):"",'\n      </div>\n      <div class="main">\n        <p>').concat(n.strInstructions,"</p>\n        <h2>Ingredients</h2>\n        <ul>\n          ").concat(t.map((function(n){return"<li>".concat(n,"</li>")})).join(""),"\n        </ul>\n      </div>\n    </div>\n  ")}t.addEventListener("submit",(function(t){t.preventDefault(),r.innerHTML="";var e=n.value;e.trim()?(fetch("https://www.themealdb.com/api/json/v1/1/search.php?s=".concat(e)).then((function(n){return n.json()})).then((function(n){c.innerHTML="<h2>Search results for '".concat(e,"':</h2>"),null===n.meals?c.innerHTML="<p>There are no search results. Try again!<p>":a.innerHTML=n.meals.map((function(n){return'\n            <div class="meal">\n              <img src="'.concat(n.strMealThumb,'" alt="').concat(n.strMeal,'" />\n              <div class="meal-info" data-mealID="').concat(n.idMeal,'">\n                <h3>').concat(n.strMeal,"</h3>\n              </div>\n            </div>\n          ")})).join("")})),n.value=""):alert("Please enter a search term")})),e.addEventListener("click",(function(){a.innerHTML="",c.innerHTML="",fetch("https://www.themealdb.com/api/json/v1/1/random.php").then((function(n){return n.json()})).then((function(n){s(n.meals[0])}))})),a.addEventListener("click",(function(n){var t=n.path.find((function(n){return!!n.classList&&n.classList.contains("meal-info")}));t&&function(n){fetch("https://www.themealdb.com/api/json/v1/1/lookup.php?i=".concat(n)).then((function(n){return n.json()})).then((function(n){s(n.meals[0])}))}(t.getAttribute("data-mealid"))}))})();