(()=>{function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var n=document.querySelector(".container"),r=document.querySelectorAll(".row .seat:not(.occupied)"),o=document.getElementById("count"),a=document.getElementById("total"),l=document.getElementById("movie");!function(){var e=JSON.parse(localStorage.getItem("selectedSeats"));null!==e&&e.length>0&&r.forEach((function(t,n){e.indexOf(n)>-1&&t.classList.add("selected")}));var t=localStorage.getItem("selectedMovieIndex");null!==t&&(l.selectedIndex=t)}();var c=+l.value;function i(){var t=document.querySelectorAll(".row .seat.selected"),n=e(t).map((function(t){return e(r).indexOf(t)}));localStorage.setItem("selectedSeats",JSON.stringify(n));var l=t.length;o.innerText=l,a.innerText=l*c}l.addEventListener("change",(function(e){var t,n;c=+e.target.value,t=e.target.selectedIndex,n=e.target.value,localStorage.setItem("selectedMovieIndex",t),localStorage.setItem("selectedMoviePrice",n),i()})),n.addEventListener("click",(function(e){e.target.classList.contains("seat")&&!e.target.classList.contains("occupied")&&(e.target.classList.toggle("selected"),i())})),i()})();