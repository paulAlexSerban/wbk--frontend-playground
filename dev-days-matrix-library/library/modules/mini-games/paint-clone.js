(()=>{var e=1500,t=document.getElementById("active-tool"),n=document.getElementById("brush-color"),o=document.getElementById("brush"),a=document.getElementById("brush-size"),d=document.getElementById("brush-slider"),c=document.getElementById("bucket-color"),l=document.getElementById("eraser"),i=document.getElementById("clear-canvas"),r=document.getElementById("save-storage"),s=document.getElementById("load-storage"),u=document.getElementById("clear-storage"),v=document.getElementById("download"),m=document.body,g=document.createElement("canvas");g.id="canvas";var y=g.getContext("2d"),E=10,f="#FFFFFF",h="#A51DAB",C=!1,x=!1,I=[];function L(){d.value<10?a.textContent="0".concat(d.value):a.textContent=d.value}function k(){C=!1,t.textContent="Brush",o.style.color="black",l.style.color="white",h="#".concat(n.value),E=10,d.value=10,L()}d.addEventListener("change",(function(){E=d.value,L()})),n.addEventListener("change",(function(){C=!1,h="#".concat(n.value)})),c.addEventListener("change",(function(){f="#".concat(c.value),S(),p()})),l.addEventListener("click",(function(){C=!0,o.style.color="white",l.style.color="black",t.textContent="Eraser",h=f,E=50}));var B=function(e){setTimeout(k,e)};function S(){g.width=window.innerWidth,g.height=window.innerHeight-50,y.fillStyle=f,y.fillRect(0,0,g.width,g.height),m.appendChild(g),k()}function p(){for(var e=1;e<I.length;e++)y.beginPath(),y.moveTo(I[e-1].x,I[e-1].y),y.lineWidth=I[e].size,y.lineCap="round",I[e].eraser?y.strokeStyle=f:y.strokeStyle=I[e].color,y.lineTo(I[e].x,I[e].y),y.stroke()}function w(e,t,n,o,a){var d={x:e,y:t,size:n,color:o,erase:a};I.push(d)}function b(e){var t=g.getBoundingClientRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}i.addEventListener("click",(function(){S(),I=[],t.textContent="Canvas Cleared",B(e)})),g.addEventListener("mousedown",(function(e){x=!0;var t=b(e);y.moveTo(t.x,t.y),y.beginPath(),y.lineWidth=E,y.lineCap="round",y.strokeStyle=h})),g.addEventListener("mousemove",(function(e){if(x){var t=b(e);y.lineTo(t.x,t.y),y.stroke(),w(t.x,t.y,E,h,C)}else w(void 0)})),g.addEventListener("mouseup",(function(){x=!1})),r.addEventListener("click",(function(){localStorage.setItem("savedCanvas",JSON.stringify(I)),t.textContent="Canvas Saved",B(e)})),s.addEventListener("click",(function(){localStorage.getItem("savedCanvas")?(I=JSON.parse(localStorage.savedCanvas),p(),t.textContent="Canvas Loaded",B(e)):(t.textContent="No Canvas Found",B(e))})),u.addEventListener("click",(function(){localStorage.removeItem("savedCanvas"),t.textContent="Local Storage Cleared",B(e)})),v.addEventListener("click",(function(){v.href=g.toDataURL("image/jpeg",1),v.download="paint-example.jpeg",t.textContent="Image File Saved",B(e)})),o.addEventListener("click",k),S()})();