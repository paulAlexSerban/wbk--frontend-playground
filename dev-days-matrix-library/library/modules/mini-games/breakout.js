(()=>{for(var e=document.getElementById("rules-btn"),t=document.getElementById("close-btn"),i=document.getElementById("rules"),n=document.getElementById("canvas"),d=n.getContext("2d"),o=0,s={x:n.width/2,y:n.height/2,size:10,speed:4,dx:4,dy:-4},c={x:n.width/2-40,y:n.height-20,w:80,h:10,speed:8,dx:0},h=70,r=20,f=10,y=45,l=60,a=[],x=0;x<9;x++){a[x]=[];for(var u=0;u<5;u++){var w=x*(h+f)+y,g=u*(r+f)+l;a[x][u]={x:w,y:g,padding:f,w:h,h:r,offsetX:y,offsetY:l}}}function m(){s.x+=s.dx,s.y+=s.dy,(s.x+s.size>n.width||s.x-s.size<0)&&(s.dx*=-1),(s.y+s.size>n.height||s.y-s.size<0)&&(s.dy*=-1),s.x-s.size>c.x&&s.x+s.size<c.x+c.w&&s.y+s.size>c.y&&(s.dy=-s.speed),a.forEach((function(e){e.forEach((function(e){e.visible&&s.x-s.size>e.x&&s.x+s.size<e.x+e.w&&s.y+s.size>e.y&&s.y-s.size<e.y+e.h&&(s.dy*=-1,e.visible=!1,++o%81==0&&z())}))})),s.y+s.size>n.height&&(z(),o=0)}function z(){a.forEach((function(e){e.forEach((function(e){return e.visible=!0}))}))}function E(){d.clearRect(0,0,n.width,n.height),d.beginPath(),d.arc(s.x,s.y,s.size,0,2*Math.PI),d.fillStyle="#0095dd",d.fill(),d.closePath(),d.beginPath(),d.rect(c.x,c.y,c.w,c.h),d.fillStyle="#0095dd",d.fill(),d.closePath(),d.font="20px Arial",d.fillText("Score: ".concat(o),n.width-100,30),a.forEach((function(e){e.forEach((function(e){d.beginPath(),d.rect(e.x,e.y,e.w,e.h),d.fillStyle=e.visible?"#0095dd":"transparent",d.fill(),d.closePath()}))}))}!function e(){c.x+=c.dx,c.x+c.w>n.width&&(c.x=n.width-c.w),c.x=Math.max(c.x,0),m(),E(),requestAnimationFrame(e)}(),document.addEventListener("keydown",(function(e){"Right"===e.key||"ArrowRight"===e.key?c.dx=c.speed:"Left"!==e.key&&"ArrowLeft"!==e.key||(c.dx=-c.speed)})),document.addEventListener("keyup",(function(e){"Right"!==e.key&&"ArrowRight"!==e.key&&"Left"!==e.key&&"ArrowLeft"!==e.key||(c.dx=0)})),e.addEventListener("click",(function(){return i.classList.add("show")})),t.addEventListener("click",(function(){return i.classList.remove("show")}))})();