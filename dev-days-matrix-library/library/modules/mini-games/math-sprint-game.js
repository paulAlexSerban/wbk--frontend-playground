(()=>{var e,t=document.getElementById("game-page"),n=document.getElementById("score-page"),c=document.getElementById("splash-page"),o=document.getElementById("countdown-page"),a=document.getElementById("start-form"),r=document.querySelectorAll(".radio-container"),d=document.querySelectorAll("input"),i=document.querySelectorAll(".best-score-value"),l=document.querySelector(".countdown"),u=document.querySelector(".item-container"),s=document.querySelector(".final-time"),m=document.querySelector(".base-time"),v=document.querySelector(".penalty-time"),f=document.querySelector(".play-again"),h=document.querySelector("#button-select-wrong"),S=document.querySelector("#button-select-right"),g=document.querySelector("#button-play-again"),p=0,E=[],y=[],b=[],q=0,x=0,L={},C=[],I=0,k=0,B=0,M=0,N="0.0",O=0;function w(){i.forEach((function(e,t){e.textContent="".concat(b[t].bestScore,"s")}))}function A(){N=M.toFixed(1),k=I.toFixed(1),B=B.toFixed(1),m.textContent="Base Time: ".concat(k,"s"),v.textContent="Penalty: +".concat(B,"s"),s.textContent="".concat(N,"s"),b.forEach((function(e,t){if(p==e.questions){var n=Number(b[t].bestScore);(0===n||n>M)&&(b[t].bestScore=N)}})),w(),localStorage.setItem("bestScores",JSON.stringify(b)),u.scrollTo({top:0,behavior:"instant"}),setTimeout((function(){f.hidden=!1}),1e3),t.hidden=!0,n.hidden=!1}function F(){I+=.1,y.length==p&&(clearInterval(e),E.forEach((function(e,t){e.evaluated===y[t]||(B+=.5)})),M=I+B,A())}function J(){I=0,B=0,M=0,e=setInterval(F,100),t.removeEventListener("click",J)}function T(e){return O+=80,u.scroll(0,O),e?y.push("true"):y.push("false")}function D(e){return Math.floor(Math.random()*Math.floor(e))}function G(){for(var e=D(p),t=p-e,n=0;n<e;n++){q=D(9),x=D(9);var c=q*x,o="".concat(q," x ").concat(x," = ").concat(c);L={value:o,evaluated:"true"},E.push(L)}for(var a=0;a<t;a++){q=D(9),x=D(9);var r=q*x;C[0]="".concat(q," x ").concat(x+1," = ").concat(r),C[1]="".concat(q," x ").concat(x," = ").concat(r-1),C[2]="".concat(q+1," x ").concat(x," = ").concat(r);var d=D(2),i=C[d];L={value:i,evaluated:"false"},E.push(L)}!function(e){for(var t,n,c=e.length;0!==c;)n=Math.floor(Math.random()*c),t=e[c-=1],e[c]=e[n],e[n]=t}(E)}function P(){u.textContent="";var e=document.createElement("div");e.classList.add("height-240");var t=document.createElement("div");t.classList.add("selected-item"),u.append(e,t),G(),E.forEach((function(e){var t=document.createElement("div");t.classList.add("item");var n=document.createElement("h1");n.textContent=e.value,t.appendChild(n),u.appendChild(t)}));var n=document.createElement("div");n.classList.add("height-500"),u.appendChild(n)}function j(){var e=3;l.textContent=e;var n=setInterval((function(){0===--e?l.textContent="GO!":-1===e?(t.hidden=!1,o.hidden=!0,clearInterval(n)):l.textContent=e}),1e3)}a.addEventListener("click",(function(){r.forEach((function(e){e.classList.remove("selected-label"),e.children[1].checked&&e.classList.add("selected-label")}))})),t.addEventListener("click",J),a.addEventListener("submit",(function(e){var t;e.preventDefault(),d.forEach((function(e){e.checked&&(t=e.value)})),(p=t)&&(o.hidden=!1,c.hidden=!0,j(),P())})),g.addEventListener("click",(function(){t.addEventListener("click",J),n.hidden=!0,c.hidden=!1,E=[],y=[],O=0,f.hidden=!0})),h.addEventListener("click",(function(){T(!1)})),S.addEventListener("click",(function(){T(!0)})),localStorage.getItem("bestScores")?b=JSON.parse(localStorage.bestScores):(b=[{questions:10,bestScore:N},{questions:25,bestScore:N},{questions:50,bestScore:N},{questions:99,bestScore:N}],localStorage.setItem("bestScores",JSON.stringify(b))),w()})();